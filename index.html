<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>jQuery Mobile Web App</title>
<link href="../jquery-mobile/jquery.mobile.theme-1.0.min.css" rel="stylesheet" type="text/css"/>
<link href="../jquery-mobile/jquery.mobile.structure-1.0.min.css" rel="stylesheet" type="text/css"/>
<script src="../jquery-mobile/jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="../jquery-mobile/jquery.mobile-1.0.min.js" type="text/javascript"></script>
<script src="cordova.js"></script>
<link href="style.css" rel="stylesheet" type="text/css">
</head> 
<body> 

<div data-role="page" id="page">
	<div data-role="header">
		<h1>Camera test</h1>
	</div>
	<div data-role="content">	
		<button id="capture">Capture</button>		
	</div>
<center>
<img id="image" height="150" />
</center>
</div>
<script>
document.addEventListener("deviceready",onDeviceReady,false);

$('#capture').bind('tap', function(){
	var options = {sourceType:Camera.PictureSourceType.PHOTOLIBRARY, destinationType: Camera.DestinationType.FILE_URL};
	navigator.camera.getPicture(onCameraSuccess, onError, options);
	
	function onError(message) {
	alert (message);	
	}
	
	function onCameraSuccess(imageURL) {
		$('#image').attr('src', imageURL);
		$('#image').css('display', 'block');
	}
	
});
</script>

</body>
</html>